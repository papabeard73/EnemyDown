# マインクラフト　プラグイン開発
## 機能要件
- 体力や空腹ゲージは最大化されること
- 一定のエリア内でしか敵は発生しないこと
- 敵の種類はランダムであること
- 装備や武器はプレイする度に同じになること
- 敵を倒すと点数が手に入ること
- 時間制限を設定できること
- スコア（合計点数）ボードが表示できること
- 敵の種類によって手に入る点数が異なること
- 時間制限が来たらエリア内の敵は消滅すること
- 特殊効果や状態異常はゲーム開始時に無効化されること / ゲーム終了後にも無効化されること
- 時間制限が来たら合計の点数が保存されること
- 保存する情報はスコアとプレイヤー名と日時
- 新しい情報が入った場合は上書きではなく、全て保存すること

## 非機能要件
- コマンドでゲームを開始できる
- プラグインを導入すればSpigotを使っていればどのサーバーでも導入できる
- 複数のプレイヤーが同時に実行しても動作すること（？）
- コマンドのオプションでプレイヤーの強さ、敵の種類をある程度コントロールできる
- 
- ゲーム中のエリア内のブロックは何があっても破壊されない
- 敵の出現数が一定数を超えたときにゲームが重たくならないようにする
- プログラムへの変更を加えずに、時間やスコアの項目などの設定値をある程度変更できる

## 機能設計
- 体力や空腹ゲージは最大化されること
  - コマンド実行したら、体力と空腹値に20を設定する
- 一定のエリア内でしか敵は発生しないこと
  - エリアの範囲をプレイヤー中心のランダムにして、限定的に敵を発生させる
- 敵の種類はランダムであること
  - ブロック破壊する敵（クリーパーなど）を出すと制御が大変なので、それ以外の敵を固定で抽選する
  - Listに入れたEntityTypeをランダムで取得することで実装する
- 装備や武器はプレイする度に同じになること
  - 対象プレイヤーのインベントリの中身を直接書き換えることで実現する
  - コマンド実行時に差し替えて、最終的にはコマンド実行前の装備の状況を保存しておき、ゲーム終了後元に戻したい。
- 敵を倒すと点数が手に入ること
    - Entityが死亡する際のイベントを取得して、その時に点数を加算する
    - その際に、プレイヤーが倒したEntityであるという条件を付け加えて加算する
    - 更にプレイヤーはコマンドを実行したプレイヤーである
- 時間制限を設定できること
  - スケジューラを使って、一定周期で敵を出現させる。
  - 一定時間が経過したらその敵を出現させる処理を停止する。
  - マルチプレイヤーでも対応できるように、プレイヤー毎にゲーム時間を持つこと。
  - 実行時に毎回ゲーム時間が設定されること。
- スコア（合計点数）ボードが表示出来ること
  - sendTitleを使って画面いっぱいにスコア情報を表示する。
  - スコアを表示したら、プレイヤーのスコアを初期化すること。
- 敵の種類によって手に入る点数が異なること
  - 倒した敵によって処理を分岐させて、点数を変動させる。
- 時間制限が来たらエリア内の敵は消滅すること
  - プレイヤーの周囲にいるエンティティの情報を取得してきて、そのエンティティを削除する
  - 削除対象のエンティティは出現させた敵に限定すること
  - 前提として、室内で行うことを想定しているので、敵を削除すれば問題は発生しない
- 特殊効果や状態異常はゲーム開始時に無効化されること / ゲーム終了後にも無効化されること
  - プレイヤーの有効化されている特殊効果（ポーションエフェクト）を解除する
  - ゲームのスタート時と終了時に同じ処理を行う